<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" xml:lang="en">
<head>
    <!--
    Designed by CompanyName
    Base template (without user's data) checked by http://validator.w3.org : "This page is valid XHTML 1.0 Transitional"
    -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <title>Wallpaper changer in mate - Linux Mint Community</title>

    <script type="text/javascript" src="/script.js"></script>
    <script type="text/javascript" src="/ckeditor/ckeditor.js"></script>


    <link rel="stylesheet" href="/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/menu.css" type="text/css" media="screen" />
    <!--[if IE 6]><link rel="stylesheet" href="/style.ie6.css" type="text/css" media="screen" /><![endif]-->
    <!--[if IE 7]><link rel="stylesheet" href="/style.ie7.css" type="text/css" media="screen" /><![endif]-->

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

</head>
<body>
<div id="art-page-background-simple-gradient">
    </div>
    <div id="art-main">
        <div class="art-Sheet">
            <div class="art-Sheet-tl"></div>
            <div class="art-Sheet-tr"></div>
            <div class="art-Sheet-bl"></div>
            <div class="art-Sheet-br"></div>
            <div class="art-Sheet-tc"></div>                                                                                                                                                                                                                                                                                                                                                                                                                                                 <div class="art-Sheet-bc">They offer different <a href="http://www.flashmint.com/">flash templates</a> with latest features.</div>
            
            <div class="art-Sheet-cl"></div>
            <div class="art-Sheet-cr"></div>
            <div class="art-Sheet-cc"></div>
            <div class="art-Sheet-body">
                <div class="art-Header">
                    <div class="art-Header-png"></div>
                    <div class="art-Header-jpeg"></div>
                    <div class="art-Logo">
                        <h1 id="name-text" class="art-Logo-name"><a href="/">community.linuxmint.com</a></h1>
                        <div id="slogan-text" class="art-Logo-text"><a href="/">The website for all Linux Mint users</a></div>
                    </div>
                </div>

<div class="art-nav" style="z-index:4;">
                  <div class="l"></div>
                	<div class="r"></div>
                	<ul class="art-menu">
                		<li><a href="/" background="images/header.gif"><span class="l"></span><span class="r"></span><span class="t">Home</span></a>				
				</li>
									
		        		<li><a href="#"><span class="l"></span><span class="r"></span><span class="t">Community</span></a>
						<ul class="dropmenu">
							<li><a href="http://community.linuxmint.com/idea/search"><img src='/img/menu/ideas.png' align='absmiddle'>&nbsp;Ideas</a></li>	
							<li><a href="http://community.linuxmint.com/tutorial/search"><img src='/img/menu/tutorials.png' align='absmiddle'>&nbsp;Tutorials</a></li>							
							<li><a href="http://community.linuxmint.com/hardware/search"><img src='/img/menu/hardware.png' align='absmiddle'>&nbsp;Hardware</a></li>
							<li><a href="http://community.linuxmint.com/software/browse"><img src='/img/menu/software.png' align='absmiddle'>&nbsp;Software</a></li>
							<li><a href="http://community.linuxmint.com/country/all"><img src='/img/menu/countries.png' align='absmiddle'>&nbsp;Countries</a></li>
							<li><a href="http://community.linuxmint.com/user/search"><img src='/img/menu/users.png' align='absmiddle'>&nbsp;Users</a></li>			
							<li><a href="http://community.linuxmint.com/user/moderators"><img src='/img/menu/moderation.png' align='absmiddle'>&nbsp;Moderation</a></li>				
							<li><a href="#" onClick="window.open('http://widget.mibbit.com/?settings=afafcb2fef3d61ee26d44fe55394b54b&server=irc.spotchat.org&channel=%23linuxmint-chat&autoConnect=1&nick=guest%3F%3F%3F%3F_web', 'Chat room', 'left=20,top=100,width=800,height=600,toolbar=0,resizable=0');"><img src='/img/menu/chat.png' align='absmiddle'>&nbsp;Chat room</a></li>
						</ul>
		        		</li>
		        		
		        		<li><a href="#"><span class="l"></span><span class="r"></span><span class="t">Testing</span></a>
							<ul class="dropmenu">                                                        
								<li><a href="http://community.linuxmint.com/iso"><img src='/img/menu/iso.png' align='absmiddle'>&nbsp;ISO Images</a></li>
								<li><a href="http://community.linuxmint.com/iso/team"><img src='/img/menu/iso.png' align='absmiddle'>&nbsp;Teams</a></li>
							</ul>
						</li>
						

				                		                	
                	</ul>
                </div>

 <div class="art-contentLayout">
                    <div class="art-sidebar1">
                                                   
			
				 
						
			 <div class="art-Block">
                            <div class="art-Block-tl"></div>
                            <div class="art-Block-tr"></div>
                            <div class="art-Block-bl"></div>
                            <div class="art-Block-br"></div>
                            <div class="art-Block-tc"></div>
                            <div class="art-Block-bc"></div>
                            <div class="art-Block-cl"></div>
                            <div class="art-Block-cr"></div>
                            <div class="art-Block-cc"></div>
				<div class="art-Block-body">
                                <div class="art-BlockHeader">
                                    <div class="l"></div>
                                    <div class="r"></div>
                                    <div class="art-header-tag-icon">
                                        <div class="t">Login</div>
                                    </div>
                                </div>
					<div class="art-BlockContent">
                                       <div class="art-BlockContent-body">

                                        <div>
					<form action="http://community.linuxmint.com/auth/login" method="post">
					
                                        <label for="username">Username</label><input type="text" name="username" value="" id="username" size="30" style="width: 95%;"  />                                        <label for="password">Password</label><input type="password" name="password" value="" id="password" size="30" style="width: 95%;"  />

					
					<input type="checkbox" name="remember" value="1" id="remember" style="width: 95%;"  /> <label for="remember">Remember me</label><br/>
					<a href="http://community.linuxmint.com/auth/forgot_password">Forgot password</a> <br/>

                                        <span class="art-button-wrapper">
                                        	<span class="l"> </span>
                                        	<span class="r"> </span>
                                        	<input class="art-button" type="submit" name="login" value="Login"/>
                                        </span>
					<span class="art-button-wrapper">
						<span class="l"> </span>
						<span class="r"> </span>
						<a href="http://community.linuxmint.com/auth/register" class="art-button">Register</a>					</span>
                                        </form>
					</div>
				</div>
                               </div>
 				</div>
				 </div>
			
                                    
                           
                       

                        <div class="art-Block">
                            <div class="art-Block-tl"></div>
                            <div class="art-Block-tr"></div>
                            <div class="art-Block-bl"></div>
                            <div class="art-Block-br"></div>
                            <div class="art-Block-tc"></div>
                            <div class="art-Block-bc"></div>
                            <div class="art-Block-cl"></div>
                            <div class="art-Block-cr"></div>
                            <div class="art-Block-cc"></div>
                            <div class="art-Block-body">
                                <div class="art-BlockHeader">
                                    <div class="l"></div>
                                    <div class="r"></div>
                                    <div class="art-header-tag-icon">
                                        <div class="t">Latest changes</div>
                                    </div>
                                </div><div class="art-BlockContent">
                                    <div class="art-BlockContent-body">
                                        <div>

                            <p>The idea module was updated:</p>                            
                            <ul>
								<li>We now have 10 statuses instead of 5</li>
								<li>The review process now involves both moderators and developers</li>								
								<li>Moderators can now review form and content separately</li>
								<li>Moderators can now delegate decisions to developers when they are unable to assess the pertinence or feasibility of an idea</li>
							</ul>
								  						  	  						  													
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="art-Block">
                            <div class="art-Block-tl"></div>
                            <div class="art-Block-tr"></div>
                            <div class="art-Block-bl"></div>
                            <div class="art-Block-br"></div>
                            <div class="art-Block-tc"></div>
                            <div class="art-Block-bc"></div>
                            <div class="art-Block-cl"></div>
                            <div class="art-Block-cr"></div>
                            <div class="art-Block-cc"></div>
                            <div class="art-Block-body">
                                <div class="art-BlockHeader">
                                    <div class="l"></div>
                                    <div class="r"></div>
                                    <div class="art-header-tag-icon">
                                        <div class="t">Improve this website</div>
                                    </div>
                                </div><div class="art-BlockContent">
                                    <div class="art-BlockContent-body">
                                        <div>					
						<ul>
                            <li>Report bugs <a href="https://github.com/linuxmint/community.linuxmint.com/issues">here</a>.</li>
							<li>Register ideas for improvements using the idea module on this website.</li>
						</ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        <div class="art-content">
               
                        <div class="art-Post">
                            <div class="art-Post-body">
				<div align="right">
								</div>
<a onClick="history.go(-1)">Back</a>
                        <div class="art-Post-inner">
                            
                            <div class="art-PostContent">

				<table><tr><td valign="top"><b>Written by:</b></td><td align="center"><a href="http://community.linuxmint.com/user/view/43501"><img height=50 src=/uploads/avatars/43501.jpg></a><br/>
					<a href="http://community.linuxmint.com/user/view/43501">michelsaey</a></td>
				<td valign="top">
					<b>Score:</b> 8<br/>
				    <b>votes:</b> 11<br/>
				    				    	<b>Format:</b> Article<br/>
			                                    
                   
                        
                    
                   
				</td>
				</tr>
				</table>
				
                                <hr/>
					<h2 class="art-PostHeaderIcon-wrapper">
                                <span class="art-PostHeader"><img src="/img/icons/tutorials.png" align="absmiddle"/>&nbsp;Wallpaper changer in mate</span>
                            </h2>
				        
					
                                <hr/>
				     <p>
 You can change your wallpaper automatically in mate by writing a bash script.</p>
<p>
 I marked the ones in red where to put your variables.</p>
<p>
 -open your editor (ex. pluma)</p>
<p>
 - copy and paste the following and edit your variables (one variable for the seconds between wallpapers to change and the other one is the location where the wallpapers located at. Note: the .jpg files may not have spaces in the filename.</p>
<p>
 &nbsp;</p>
<p>
 # Script to randomly set Background from files in a directory<br />
 while true;do<br />
 # specify how long to wait in seconds between changes<br />
 sleep <span style="background-color:#f00;">3600</span><br />
 # Directory Containing Pictures<br />
 DIR=&quot;<span style="background-color:#f00;">/home/michel/Wallpapers</span>&quot;<br />
 <br />
 # Command to Select a random jpg file from directory<br />
 # Delete the *.jpg to select any file but it may return a folder<br />
 PIC=$(ls $DIR/*.jpg | shuf -n1)<br />
 <br />
 # Command to set Background Image<br />
 mateconftool-2 -t string -s /desktop/mate/background/picture_filename $PIC<br />
 done</p>
<p>
 &nbsp;</p>
<p>
 -save the file and name it in a way that it means something to you with .sh extension for example wallpaper_changer.sh</p>
<p>
 -open a terminal and go to the file&#39;s dir</p>
<p>
 -make the file executable by typing: chmod 700 wallpaper_changer.sh</p>
<p>
 -then type: sh wallpaper_changer.sh &amp;</p>
<p>
 &nbsp;</p>
<p>
 -You may want to add the command &#39;sh /home/username/wallpaper_changer.sh &amp;&#39; to your startup applications</p>
				<hr/>	
				Tags: <i>wallpaper changer mate</i><br/>
				Created: 10 months ago.<br/>
				Last edited: 10 months ago.<br/>                 
															Reviewed: 10 months ago.<br/>
													Read 0 times.<br/>


         
<br/>

<table summary="Comments" class="commentsTable" cellspacing="0">
<tr><td colspan="4" class="commentsTableHeader">Comments</td></tr>
	<tr>
	<td nowrap><font color="orange">1 day ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/74487"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/74487">triplemaya</a>		</center>
	</td>
	<td>
		<br />
<br />
To make either this script, or my adapted script below, work even if there are spaces in the filename add the following lines before calling the command PIC=$(ls $DIR/*.jpg | shuf -n1)<br />
<br />
# Internal Field Separator set to newline, so file names with<br />
# spaces do not break our script.<br />
IFS='<br />
'<br />
<br />
	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">3 days ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/74487"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/74487">triplemaya</a>		</center>
	</td>
	<td>
		I am running MATE 1.6 and there is no mateconftool (or gconftool or dconftool). Instead there is gsettings which works on the dconf database. <br />
<br />
Below is the new version of the script I got running after a bit of trial and error. Many thanks to Michel for the original.<br />
<br />
This should work on all newer versions as the dconf/gsettings is the new way. (Yes to one of the comments, the old scripts run OK, but the script is changing the settings in the gconf database not the dconf database, and it is the dconf database which controls the background wallpaper in newer versions.)<br />
<br />
<br />
<br />
# Script to randomly set Background from files in a directory<br />
while true;do<br />
<br />
# Directory Containing Pictures<br />
DIR="/home/michel/Wallpapers"<br />
<br />
# Command to Select a random jpg file from directory<br />
# Delete the *.jpg to select any file but it may return a folder<br />
PIC=$(ls $DIR/*.jpg | shuf -n1)<br />
<br />
# Command to set Background Image<br />
gsettings set org.mate.background picture-filename $PIC<br />
<br />
# specify how long to wait in seconds between changes<br />
sleep 600<br />
<br />
done<br />
<br />
<br />
<br />
I put the sleep at the end so you can tell at once if it is working when you fire it up! 	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">1 month ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/71482"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/71482">tt_brv</a>		</center>
	</td>
	<td>
		Thank You for that, it worked well on my<br />
Xubuntu with Mate-Desktop.<br />
But after upadting From Mate 1.4 to 1.6<br />
something must have changed it does not make<br />
this job anymore.<br />
Is it possible to change the script so that it suits<br />
to the new Mate 1.6 ?<br />
Best wishes from <br />
Uwe	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">2 months ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/67507"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/67507">mintymouse</a>		</center>
	</td>
	<td>
		It's a good script but to get it to work on my mint 13 MATE 64 install it needed a some cleaning up.  This one works much better.<br />
<br />
I put all the wallpapers I want to be included in the random image selection together in a separate directory so if I want a wallpaper to be added or removed from the list of possibilities I simply copy it to or remove it from that directory.<br />
<br />
I also made two separate script files, the one you see below and an identical one that's had the "while true;do", "sleep" and "done" lines removed.  The first was added to my start up programs list.  For the second one I added a launcher for it to the panel so now I can just click it any time I want a new wallpaper to be picked instantly instead of waiting for the timed version to do it.<br />
<br />
<br />
<br />
# Script to randomly set Background from files in a directory<br />
while true;do<br />
<br />
# Directory Containing Pictures<br />
DIR="/home/user/path/"<br />
<br />
# Command to Select a random jpg file from directory<br />
# Delete the *.jpg to select any file but it may return a folder<br />
PIC=$(ls $DIR | shuf -n1)<br />
<br />
# Command to set Background Image, !!The reason it wasn't working here was because the path to the image had to be included too. Note that "picture_filename" and "picture-filename" are both separate and valid entries.<br />
mateconftool-2 -t string -s /desktop/mate/background/picture_filename $DIR$PIC<br />
mateconftool-2 -t string -s /desktop/mate/background/picture-filename $DIR$PIC<br />
<br />
# specify how long to wait in seconds between changes<br />
sleep 300  #300 is 5 minutes, 600 is 10 minutes, 900 is 15, etc<br />
done	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">2 months ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/67447"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/67447">surferbob644</a>		</center>
	</td>
	<td>
		Since I couldn't get any wallpaper changer to work in Mate, they all said they were running but the desktop pic is stuck on the default Linux Mint wallpaper, I thought I'd try running your shell script. Same result. I know the script is active. I guess I'll have to post in the forum. Thanks though. I'm going to get this to work.	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">4 months ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/60949"><img height=30 src=/img/default_avatar.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/60949">herbie643</a>		</center>
	</td>
	<td>
		Perfect, just what I was looking for.	</td>
	<td>
					&nbsp;
			</td>
	</tr>
	<tr>
	<td nowrap><font color="orange">9 months ago</font></td> 
	<td>		
		<center>
		<a href="http://community.linuxmint.com/user/view/2807"><img height=30 src=/uploads/avatars/2807.jpg></a><br/>
		<a href="http://community.linuxmint.com/user/view/2807">yves910</a>		</center>
	</td>
	<td>
		Thanks !	</td>
	<td>
					&nbsp;
			</td>
	</tr>
</table>

                           
                          

<h3>Other tutorials from michelsaey</h3>
<ul>
	<li><a href="http://community.linuxmint.com/tutorial/view/929">Shutdown/Restart - Get rid of authentication during shutdown/restart</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1031">Check HP printer or multifunctional ink level</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1035">Connect to a wireless network as standard user without administrator authentication</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/998">Reduce swappines</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1006">Use 'Windows-key' for opening main menu instead of 'Alt-F1' in Mate</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1107">Change ugly fonts in Firefox (KDE)</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1137">Run pulseaudio systemwide</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1164">Change file permissions with chmod</a></li>
	<li><a href="http://community.linuxmint.com/tutorial/view/1033">Change Font Type and Color of Panel Clock in Mate</a></li>
</ul>
                                  
                                  
                                  
                                	
                                    
                            </div>
                            <div class="cleared"></div>
                        </div>
                        
                            </div>
                        </div>
                    </div>
                </div>

 <div class="cleared"></div><div class="art-Footer">
                    <div class="art-Footer-inner">                        
                        <div class="art-Footer-text">
                            <p><a href="http://www.linuxmint.com">Linux Mint</a> | <a href="http://www.linuxmint.com/blog">Blog</a> | <a href="http://forums.linuxmint.com">Forums</a><br />
                               Copyright &copy; 2009 . All Rights Reserved.</p>
                        </div>
                    </div>
                    <div class="art-Footer-background"></div>
                </div>
            </div>
        </div>
        <div class="cleared"></div>
        <p class="art-page-footer"></p>
    </div>
    
</body>
</html>
